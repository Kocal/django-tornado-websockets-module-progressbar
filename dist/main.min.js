!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.deepmerge=t()}(this,function(){return function e(t,r){var o=Array.isArray(r),n=o&&[]||{};return o?(t=t||[],n=n.concat(t),r.forEach(function(r,o){"undefined"==typeof n[o]?n[o]=r:"object"==typeof r?n[o]=e(t[o],r):-1===t.indexOf(r)&&n.push(r)})):(t&&"object"==typeof t&&Object.keys(t).forEach(function(e){n[e]=t[e]}),Object.keys(r).forEach(function(o){n[o]="object"==typeof r[o]&&r[o]&&t[o]?e(t[o],r[o]):r[o]})),n}});var ProgressBarModuleEngineBootstrap,ProgressBarModuleEngineInterface,___a,extend=function(e,t){function r(){this.constructor=e}for(var o in t)hasProp.call(t,o)&&(e[o]=t[o]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;___a=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return extend(t,e),t}(Window),ProgressBarModuleEngineInterface=function(){function e(){throw new Error("`ProgressBarModuleEngineInterface` should be implemented as an interface.")}return e.prototype.render=function(){throw new Error("`render` method should be overridden.")},e.prototype.updateProgression=function(){throw new Error("`updateProgression` method should be overridden.")},e}(),ProgressBarModuleEngineBootstrap=function(e){function t(e,t){this.container=e,this.options=t}return extend(t,e),t.prototype.render=function(){return console.log(this.container),console.log(this.options),this._createElements(),this.$progress.appendChild(this.$progressbar),this.container.appendChild(this.$progress),"top"===this.options.label.position?this.container.insertBefore(this.$label,this.$progress):this.container.appendChild(this.$label)},t.prototype._createElements=function(){var e,t,r,o;for(this.$progress=document.createElement("div"),this.$progress.classList.add("progress"),this.$progressbar=document.createElement("div"),this.$progressbar.classList.add("progress-bar"),this.$progressbar.setAttribute("role","progressbar"),this.$label=document.createElement("span"),o=this.options.label.classes,t=0,r=o.length;r>t;t++)e=o[t],this.$label.classList.add(e);return this.options.label.visibility===!1&&(this.$label.style.display="none"),this.$label.textContent="Loading..."},t}(ProgressBarModuleEngineInterface);var ProgressBarModule;ProgressBarModule=function(){function e(t,r,o){if(null==o&&(o={}),!(this instanceof e))return new e(t,r,o);if(void 0===t)throw new Error("You must pass 'path' parameter during 'ProgressBarModule' instantiation.");if(void 0===r||!(r instanceof HTMLElement))throw new Error("You must pass an HTML element as container during `ProgressBarModule` instantiation.");switch(this.path=t,this.container=r,this.options={websocket:{},type:"bootstrap",bootstrap:{label:{visible:!0,classes:["progressbar-label"],position:"top"},progressbar:{context:"info",stripped:!0,animated:!0},progression:{visible:!0,format:"{{percent}}%"}},html5:{label:{visible:!0,classes:["progressbar-label"],position:"top"},progression:{visible:!0,position:"right",format:"{{percent}}%"}}},this.options=deepmerge(this.options,o),this.engine=null,this.options.type){case"bootstrap":this.engine=new ProgressBarModuleEngineBootstrap(this.container,this.options.bootstrap);break;case"html5":this.engine=new ProgressBarModuleEngineHtml5(this.container,this.options.html5);break;default:throw new Error("Given `type` should be equal to ``bootstrap`` or ``html5``.")}this.engine.render()}return e}();